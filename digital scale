import RPi.GPIO as GPIO
import time
from hx711 import HX711  # HX711 library for the load cell

# Pin definitions (adjust these based on your wiring)
DT_PIN = 5   # Data pin for HX711
SCK_PIN = 6  # Clock pin for HX711

# Initialize HX711
hx = HX711(DT_PIN, SCK_PIN)

# Calibration factor (you'll need to calibrate this for your specific scale)
CALIBRATION_FACTOR = 430  # Adjust this based on calibration

def setup_scale():
    # Set GPIO mode
    GPIO.setmode(GPIO.BCM)
    
    # Reset HX711
    hx.reset()
    # Set reference unit for calibration
    hx.set_reference_unit(CALIBRATION_FACTOR)
    # Tare the scale (zero it out)
    hx.tare()
    print("Scale initialized. Place object to weigh.")



        GPIO.cleanup()
        print("GPIO cleaned up.")

if __name__ == "__main__":
    main()
